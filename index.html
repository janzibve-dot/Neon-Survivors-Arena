<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neon Survivors</title>
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="scanlines"></div>
    <div id="damageOverlay"></div>

    <button id="langBtn" class="lang-button">RU</button>
    <div id="achievementContainer"></div>

    <div id="startScreen" class="screen">
        <div class="retro-sign">
            <span class="flicker-slow">R</span>ET<span class="flicker-fast">R</span>O 
            <span class="flicker-med">G</span>AM<span class="off">E</span>S
        </div>
        <h1 class="game-title">CYBERPUNK SURVIVOR</h1>
        
        <div class="controls-box cyber-panel">
            <h3 data-lang="controls_title">:: –£–ü–†–ê–í–õ–ï–ù–ò–ï –°–ò–°–¢–ï–ú–û–ô ::</h3>
            <div class="info-grid">
                <div class="info-row"><span class="key">[W,A,S,D]</span> <span class="desc" data-lang="move">–î–≤–∏–∂–µ–Ω–∏–µ</span></div>
                <div class="info-row"><span class="key">[MOUSE]</span> <span class="desc" data-lang="aim">–ü—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏–µ</span></div>
                <div class="info-row"><span class="key">[LMB]</span> <span class="desc" data-lang="fire">–û–≥–æ–Ω—å</span></div>
                <div class="info-row"><span class="key">[RMB]</span> <span class="desc" data-lang="rockets">–†–∞–∫–µ—Ç—ã</span></div>
                <div class="info-row"><span class="key">[R]</span> <span class="desc" data-lang="ult">–£–õ–¨–¢–ê (–Ø–†–û–°–¢–¨)</span></div>
                <div class="info-row"><span class="key">[1]</span> <span class="desc" data-lang="medkit">–ê–ø—Ç–µ—á–∫–∞</span></div>
            </div>
        </div>

        <button id="startBtn" class="cyber-button big-btn" data-lang="start_btn">–ó–ê–ü–£–°–ö –°–ò–°–¢–ï–ú–´</button>
        <p style="margin-top: 10px; color: #888;" id="savedStageText"></p>
    </div>

    <div id="ui">
        <div id="top-dashboard">
            
            <div class="dash-box level-box">
                <span class="label" data-lang="stage_label">STAGE</span>
                <span id="stageValue" class="val-text big-num">1</span>
                <div class="xp-bar-thick"><div id="xpBar" class="fill"></div></div>
            </div>

            <div class="dash-box time-box">
                <span class="label" data-lang="boss_timer_label">BOSS IN</span>
                <span id="levelTimer" class="val-text highlight">60</span>
            </div>

            <div class="dash-box score-box">
                <span class="label">SCORE / BEST</span>
                <div class="score-vals">
                    <span id="currentScore" class="val-text">0</span>
                    <span id="bestScore" class="val-text small-best">HI: 0</span>
                </div>
            </div>

            <div class="loot-container">
                <div class="res-slot frame-red">
                    <span class="icon">‚úö</span> 
                    <div class="res-info">
                        <span id="medkitVal">0</span>
                        <span class="res-name" data-lang="item_medkit">MEDKIT</span>
                    </div>
                </div>
                <div class="res-slot frame-yellow">
                    <span class="icon">‚òÖ</span> 
                    <div class="res-info">
                        <span id="starVal">0</span>
                        <span class="res-name" data-lang="item_stars">STARS</span>
                    </div>
                </div>
                <div class="res-slot frame-orange">
                    <span class="icon">‚ñ≤</span> 
                    <div class="res-info">
                        <span id="missileVal">0</span>
                        <span class="res-name" data-lang="item_rockets">ROCKETS</span>
                    </div>
                </div>
                <div id="machineGunSlot" class="res-slot frame-cyan" style="display: none;">
                    <span class="icon">‚ö°</span> 
                    <div class="res-info">
                        <span id="gunTimer">0s</span>
                        <span class="res-name" id="weaponName">WEAPON</span>
                    </div>
                </div>
            </div>

            <div class="dash-box hp-box">
                <span class="label">HP / RAGE [R]</span>
                <div class="hp-bar-thick"><div id="hpBar" class="fill"></div></div>
                <span id="hpText" class="hp-num">100/100</span>
                <div class="rage-bar-thick"><div id="rageBar" class="fill"></div></div>
            </div>

            <div id="shopBtn" class="dash-box shop-btn-box" onclick="Shop.toggle()">
                <span class="icon">üõí</span>
                <span class="label" data-lang="shop_btn">SHOP</span>
            </div>
        </div>

        <div id="bossContainer" style="display: none;">
             <div id="bossNameLabel" class="boss-label cyber-text-small" data-lang="boss_warning">‚ö†Ô∏è WARNING: OMEGA THREAT ‚ö†Ô∏è</div>
            <div class="tech-bar-container">
                <div class="tech-bar-fill boss-fill" id="bossHpBar" style="width: 100%;"></div>
            </div>
        </div>
    </div>

    <div id="levelCompleteScreen" class="screen" style="display: none; background: rgba(0,20,0,0.9);">
        <div class="cyber-panel" style="border-color: #00ff00;">
            <h1 class="glitch-text" style="color:#00ff00;" data-lang="level_complete">–£–†–û–í–ï–ù–¨ –ó–ê–ß–ò–©–ï–ù</h1>
            <p class="cyber-subtext" data-lang="next_wave_ready">–°–ò–°–¢–ï–ú–´ –ü–ï–†–ï–ó–ê–†–Ø–ñ–ï–ù–´. –ü–†–û–ì–†–ï–°–° –°–û–•–†–ê–ù–ï–ù.</p>
            <button id="nextLevelBtn" class="cyber-button" style="color:#00ff00; border-color:#00ff00;" data-lang="next_level_btn">–°–õ–ï–î–£–Æ–©–ò–ô –£–†–û–í–ï–ù–¨</button>
        </div>
    </div>

    <div id="levelUpScreen" class="screen" style="display: none; background: rgba(0,0,0,0.9);">
        <div class="cyber-panel">
            <h2 style="color:var(--cyber-cyan); margin-bottom: 30px;" data-lang="levelup_title">–°–ò–°–¢–ï–ú–ê –û–ë–ù–û–í–õ–ï–ù–ê</h2>
            <div id="upgradeContainer" class="upgrade-grid"></div>
        </div>
    </div>

    <div id="shopModal" class="screen" style="display: none; background: rgba(0,0,0,0.95);">
        <div class="cyber-panel shop-panel">
            <h2 style="color:var(--cyber-yellow)" data-lang="shop_title">–û–†–£–ñ–ï–ô–ù–ê–Ø</h2>
            <p data-lang="shop_desc">–°–∏—Å—Ç–µ–º–∞ —É–ª—É—á—à–µ–Ω–∏–π –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞...</p>
            <div class="shop-grid"></div>
            <button id="closeShopBtn" class="cyber-button" data-lang="close_btn">–ó–ê–ö–†–´–¢–¨</button>
        </div>
    </div>

    <div id="pauseScreen" class="screen cyber-panel" style="display: none;">
        <h1 class="glitch-text" data-lang="pause_title">–ü–ê–£–ó–ê</h1>
        <button id="resumeBtn" class="cyber-button" data-lang="resume_btn">–ü–†–û–î–û–õ–ñ–ò–¢–¨</button>
    </div>

    <div id="gameOverScreen" class="screen cyber-panel" style="display: none;">
        <h1 class="alert-text" data-lang="gameover_title">–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –°–ë–û–ô</h1>
        <p class="cyber-subtext"><span data-lang="score_text">–ò–¢–û–ì–û–í–´–ô –°–ß–ï–¢:</span> <span id="finalScore" class="cyber-highlight">0</span></p>
        <p style="font-size: 12px; color: #888;">–í—ã –≤–æ–∑—Ä–æ–¥–∏—Ç–µ—Å—å –Ω–∞ —Ç–µ–∫—É—â–µ–º —ç—Ç–∞–ø–µ</p>
        <button class="cyber-button restart-btn" data-lang="restart_btn">–ü–ï–†–ï–ó–ê–ì–†–£–ó–ö–ê</button>
    </div>

    <canvas id="gameCanvas"></canvas>
    
    <script src="shop.js"></script>
    <script src="game.js"></script>
</body>
</html>
